<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <link rel="icon" href="public/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="manifest" href="public/manifest.json" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" href="src/styles/normalize.css">
    <link rel="stylesheet" href="src/styles/index.css">
    <link rel="stylesheet" href="src/styles/form.css">
    <link rel="stylesheet" href="src/styles/layout.css">
    <link rel="stylesheet" href="src/styles/components.css">
    <link rel="stylesheet" href="src/styles/logos.css">

    <title>Tic-Tac-Toe Fun!</title>
</head>
<body>
<noscript>You need to enable JavaScript to run this app.</noscript>

<header>
    <h1>Tic Tac Toe</h1>
</header>

<section class="main">
    <!-- Includes Players and GameBoard -->
    <div id="play">
        <div class="play__wrapper">
            <div id="player" class="player">
                <div class="player__label">Name:
                    <span class="player__name">Player</span>
                </div>
                <div class="player__label">Score:
                    <span class="player__score">0</span>
                </div>
                <div class="player__label">Mark:
                    <span class="player__mark">Unknown</span>
                </div>
            </div>
            <div class="game-wrapper">
                <canvas id="game-board">
                    Game Board
                </canvas>
            </div>
                    <div id="opponent" class="player" >
                        <div class="player__label">Name:
                            <span class="player__name">Opponent</span>
                        </div>
                        <div class="player__label">Score:
                            <span class="player__score">0</span>

                        </div>
                        <div class="player__label">Mark:
                    <span class="player__mark">Unknown</span>
                </div>
            </div>
            <div class="btn" id="leave-button">Leave Game</div>
        </div>
    </div>

    <!-- Loading Spinner while waiting to connect Opponents -->
    <div id="loading-spinner">
        <div class="sk-chase">
            <div class="sk-chase-dot"></div>
            <div class="sk-chase-dot"></div>
            <div class="sk-chase-dot"></div>
            <div class="sk-chase-dot"></div>
            <div class="sk-chase-dot"></div>
            <div class="sk-chase-dot"></div>
        </div>
        <div>Trying to find opponent...</div>
    </div>

    <!-- Settings to arrange new game -->
    <div id="settings">
        <div class="settings__wrapper">
            <form class="settings__form">
                <h2 class="settings__title">Game Settings</h2>

                <div class="form__group">
                    <input type="text" class="form__input" placeholder="Nickname" id="name" required>
                    <label for="name" class="form__label">Nickname</label>
                </div>

                <div class="form__group form__group--mode">
                    <div class="form__radio-group">
                        <input type="radio"
                               class="form__radio-input"
                               value="computer"
                               id="computer"
                               checked
                               name="mode">
                        <label for="computer" class="form__radio-label">
                            <span class="form__radio-button"></span>
                            Play against computer
                        </label>
                    </div>

                    <div class="form__radio-group">
                        <input type="radio" class="form__radio-input" value="real" id="real" name="mode">
                        <label for="real" class="form__radio-label">
                            <span class="form__radio-button"></span>
                            Play against real user
                        </label>
                    </div>
                </div>

                <div class="form__group form__group--difficulty">
                    <div class="form__radio-group">
                        <input type="radio"
                               class="form__radio-input"
                               value="easy"
                               id="easy"
                               checked
                               name="difficulty">
                        <label for="easy" class="form__radio-label">
                            <span class="form__radio-button"></span>
                            Easy
                        </label>
                    </div>

                    <div class="form__radio-group">
                        <input type="radio" class="form__radio-input" value="medium" id="medium" name="difficulty">
                        <label for="medium" class="form__radio-label">
                            <span class="form__radio-button"></span>
                            Medium
                        </label>
                    </div>

                    <div class="form__radio-group">
                        <input type="radio" class="form__radio-input" value="hard" id="hard" name="difficulty">
                        <label for="hard" class="form__radio-label">
                            <span class="form__radio-button"></span>
                            Hard
                        </label>
                    </div>
                </div>

                <div class="form__group">
                    <div id="play__button" class="btn">Play!</div>
                </div>
            </form>
        </div>
    </div>
</section>

<footer>
    <div class="media__list">
        <a href="https://github.com/caglaralkiss" target="_blank" class="fa fa-github"></a>
        <a href="https://tr.linkedin.com/in/caglaralkis" target="_blank" class="fa fa-linkedin"></a>
        <a href="https://www.instagram.com/caglaralkiss/" target="_blank" class="fa fa-instagram"></a>
    </div>
    <div class="legal">
        <span>Caglar Alkis &copy; 2020. All rights reserved.</span>
    </div>
</footer>

<script type="text/javascript">

    var ENVIRONMENT = "%%CURRENT_ENVIRONMENT%%"

    window.CURR_ENVIRONMENT = ENVIRONMENT;

	var loadScripts = function (sources) {

		sources.forEach(src => {
			var script = document.createElement('script');
			script.src = src;
			script.async = false;
			document.body.appendChild(script);
		})
	};

	loadScripts([
		'src/constants/environment.js',
		'src/constants/game-mode.js',
		'src/constants/game-level.js',
		'src/constants/square-state.js',
		'src/constants/message-type.js',
		'src/constants/message-error-type.js',
		'src/constants/evaluation-score.js',
		'src/constants/colors.js',
		'src/constants/ws-url.js',
		'src/ws/ws-client.js',
		'src/util/ai.js',
		'src/util/dom.js',
		'src/canvas/board.js',
		'src/model/square.js',
		'src/model/board.js',
		'src/model/player.js',
		'src/model/model.js',
		'src/model/ai-player.js',
		'src/view/settings-view.js',
		'src/view/player-view.js',
		'src/view/main-view.js',
		'src/view/view.js',
		'src/controller/controller.js',
		'src/app.js'
	]);
</script>
</body>
</html>

